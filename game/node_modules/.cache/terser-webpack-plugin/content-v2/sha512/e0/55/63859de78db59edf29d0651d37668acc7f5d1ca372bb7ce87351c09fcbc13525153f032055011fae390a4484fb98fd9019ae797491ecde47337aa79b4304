{"code":"!function(e){var t={};function s(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=e,s.c=t,s.d=function(e,t,r){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},s.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var a in e)s.d(r,a,function(t){return e[t]}.bind(null,a));return r},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,\"a\",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p=\"\",s(s.s=0)}([function(e,t,s){\"use strict\";s.r(t);var r=e=>{e.create({key:\"idle\",frames:e.generateFrameNumbers(\"player\",{start:0,end:8}),frameRate:8,repeat:-1}),e.create({key:\"run\",frames:e.generateFrameNumbers(\"player\",{start:11,end:16}),frameRate:8,repeat:-1}),e.create({key:\"jump\",frames:e.generateFrameNumbers(\"player\",{start:17,end:23}),frameRate:2,repeat:1})};class a extends Phaser.Physics.Arcade.Sprite{constructor(e,t,s){super(e,t,s,\"player\"),e.add.existing(this),e.physics.add.existing(this),this.init(),this.initEvents()}init(){this.gravity=500,this.playerSpeed=150,this.jumpForce=300,this.jumpCount=1,this.maxJumps=2,this.cursors=this.scene.input.keyboard.createCursorKeys(),this.body.setGravityY(this.gravity),this.setCollideWorldBounds(!0),r(this.scene.anims)}initEvents(){this.scene.events.on(Phaser.Scenes.Events.UPDATE,this.update,this)}update(e,t){this.handleMovementControls(e,t)}handleMovementControls(e,t){const{left:s,right:r,space:a,up:i}=this.cursors,n=Phaser.Input.Keyboard.JustDown(a),o=Phaser.Input.Keyboard.JustDown(i),l=this.body.onFloor();s.isDown?(this.setVelocityX(-this.playerSpeed),this.setFlipX(!0)):r.isDown?(this.setVelocityX(this.playerSpeed),this.setFlipX(!1)):this.setVelocityX(0),(n||o)&&this.jumpCount<this.maxJumps&&(this.setVelocityY(-this.jumpForce),this.jumpCount++),l&&(this.jumpCount=1),l?0!==this.body.velocity.x?this.play(\"run\",!0):this.play(\"idle\",!0):this.play(\"jump\",!0)}addCollider(e,t){this.scene.physics.add.collider(this,e,t,null,this)}}var i=a;class n extends Phaser.Scene{constructor(e){super(\"PlayScene\"),this.config=e}create(){const e=this.createMap(),t=this.createLayers(e),s=this.createPlayer();s.addCollider(t.platformsColliders),this.setupCameraToFollow(s)}createMap(){const e=this.make.tilemap({key:\"crystal_world_map\"});return e.addTilesetImage(\"crystal_tileset_lev1\",\"tiles-1\"),e}createLayers(e){const t=e.getTileset(\"crystal_tileset_lev1\"),s=e.createLayer(\"platforms_colliders\",t),r=e.createLayer(\"environment\",t),a=e.createLayer(\"platforms\",t);return s.setCollisionByProperty({collides:!0}),{environment:r,platforms:a,platformsColliders:s}}createPlayer(){return new i(this,50,80)}setupCameraToFollow(e){const{mapOffset:t,width:s,height:r,zoomFactor:a}=this.config;this.physics.world.setBounds(0,0,s+t,r);const i=this.cameras.main;return i.startFollow(e),i.setBounds(0,0,s+t,r),i.setZoom(a),i}}var o=n;class l extends Phaser.Scene{constructor(){super(\"PreloadScene\")}preload(){this.load.tilemapTiledJSON(\"crystal_world_map\",\"assets/tilemaps/world_map_crystal.json\"),this.load.image(\"tiles-1\",\"assets/art_maps/crystal_world/main_lev_build_1.png\"),this.load.spritesheet(\"player\",\"assets/characters/Gino Character/PNG/idle,run,jump_sheet.png\",{frameWidth:32,frameHeight:64,spacing:32})}create(){this.scene.start(\"PlayScene\")}}var c=l;const d=window.innerWidth*window.devicePixelRatio,p={mapOffset:1600>d?1600-d:0,width:d,height:window.innerHeight*window.devicePixelRatio,zoomFactor:2},h=[c,o],u=e=>new e(p),m={type:Phaser.AUTO,...p,pixelArt:!0,physics:{default:\"arcade\",arcade:{}},scene:(()=>h.map(u))()};new Phaser.Game(m)}]);","extractedComments":[]}